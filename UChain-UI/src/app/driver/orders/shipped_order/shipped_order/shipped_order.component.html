<section class="content">
  <div class="container-fluid">
    <div class="block-header">
      <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
          <ul class="breadcrumb breadcrumb-style ">
            <li class="breadcrumb-item">
              <h4 class="page-title">Orders</h4>
            </li>
            <li class="breadcrumb-item bcrumb-1">
              <a routerLink="/doctor/dashboard">
                <i class="fas fa-home"></i> Home</a>
            </li>
            <li class="breadcrumb-item active">Shipped Orders</li>
          </ul>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="card">
          <div class="body">
            <div class="row" *ngFor="let order of orders">
              <div class="col-12">
                <div class="card p-3">
                  <div class="row">
                    <!-- Product image with consistent size -->
                    <div class="col-12 col-md-3 mb-0">
                      <div style="text-align: center; padding: 10px;">
                        <img class="product-image shadow" 
                             style="width: 200px; height: 160px; object-fit: cover; border-radius: 8px; border: 2px solid #eaeaea;" 
                             src="http://127.0.0.1:8000/{{order.product[0].image}}"
                             alt="{{order.product[0].name}}"
                             onerror="this.src='assets/images/products/p-13.jpg'">
                      </div>
                    </div>
                    
                    <!-- Product information with improved layout -->
                    <div class="col-md-5 border-right mb-0">
                      <div class="doc-card-title">
                        <h4 style="font-size: 24px; color: #3f51b5; font-weight: 600; margin-bottom: 15px;">{{order.product[0].name}}</h4>
                      </div>
                      
                      <!-- Order details with consistent formatting -->
                      <div class="order-details">
                        <div class="mb-2"><strong>Type:</strong> {{order.product[0].product_type}}</div>
                        <div class="mb-2"><strong>Quantity:</strong> {{order.quantity}}</div>
                        <div class="mb-2"><strong>Price per Unit:</strong> {{order.product[0].price}}</div>
                        <div class="mb-2"><strong>Total Price:</strong> {{(+order.quantity) * order.product[0].price || order.product[0].price}}</div>
                        <div class="mb-2"><strong>Order Date:</strong> {{order.order_date | date: 'MM/dd/yyyy'}}</div>
                        <div class="mb-2" *ngIf="order.shipped_date"><strong>Shipped Date:</strong> {{order.shipped_date | date: 'MM/dd/yyyy'}}</div>
                        <div class="mb-2"><strong>Seller:</strong> {{order.product[0].seller_name || order.seller_name || 'Not available'}}</div>
                        <div class="mb-2"><strong>Buyer:</strong> {{order.buyer_name || 'Customer'}}</div>
                      </div>
                    </div>
                    
                    <!-- Action buttons with improved styling -->
                    <div class="d-flex col-md-4 mb-0">
                      <div class="d-flex flex-column justify-content-center align-items-center w-100">
                        <div class="mb-3"><i class="fas fa-map-marker-alt pr-2"></i> {{order.product[0].location}}</div>
                        
                        <!-- Enhanced Details button -->
                        <button mat-raised-button 
                                (click)="orderDetail(order.id)" 
                                style="background: linear-gradient(45deg, #3f51b5, #7986cb); 
                                       color: white; 
                                       padding: 10px 25px; 
                                       font-size: 16px; 
                                       font-weight: 600;
                                       border-radius: 30px;
                                       box-shadow: 0 4px 20px rgba(63, 81, 181, 0.4);
                                       margin-bottom: 15px;
                                       border: none;
                                       transition: all 0.3s ease;">
                          <i class="fas fa-map-marked-alt mr-2"></i> Details
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
